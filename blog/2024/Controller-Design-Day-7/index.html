<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> [Controller Design] Day7: State Feedbak Control - LQR Controller and Energy Shaping | Min-Geun Park </title> <meta name="author" content="Min-Geun Park"> <meta name="description" content="A Mechanical Engineer with a keen interest in controller design. "> <meta name="keywords" content="Control Dynamics, Mechatronics, Robotics"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="/assets/libs/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="/assets/libs/google-fonts.css"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png?f1bd8f37a5b2f79c21160a88659d529b"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://gunee20.github.io/blog/2024/Controller-Design-Day-7/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <link defer rel="stylesheet" href="/assets/libs/styles.min.css"> <link defer rel="stylesheet" href="/assets/libs/swiper-bundle.min.css" integrity="sha256-yUoNxsvX+Vo8Trj3lZ/Y5ZBf8HlBFsB6Xwm7rH75/9E=" crossorigin="anonymous"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-light" href="/"> <span class="name font-weight-bold">Min-Geun</span> <span class="name">Park</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About me </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/volunteerings/">Volunteerings </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">[Controller Design] Day7: State Feedbak Control - LQR Controller and Energy Shaping</h1> <p class="post-meta"> Created in July 09, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/simulink"> <i class="fa-solid fa-hashtag fa-sm"></i> Simulink</a>   <a href="/blog/tag/lqr"> <i class="fa-solid fa-hashtag fa-sm"></i> LQR</a>   <a href="/blog/tag/energy-shaping"> <i class="fa-solid fa-hashtag fa-sm"></i> Energy_Shaping</a>   <a href="/blog/tag/controller-design"> <i class="fa-solid fa-hashtag fa-sm"></i> Controller_Design</a>     ·   <a href="/blog/category/study-with-me"> <i class="fa-solid fa-tag fa-sm"></i> Study_with_Me</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="i-introduction">I. Introduction</h1> <p>In this post, I’ll explore two advanced control techniques: Linear Quadratic Regulator (LQR) for stabilization and Energy Shaping for swing-up control of an inverted pendulum system.</p> <h2 id="a-linear-quadratic-regulator-lqr">A. Linear Quadratic Regulator (LQR)</h2> <p>The LQR is a fundamental control strategy used in control systems engineering to optimally regulate the behavior of a linear dynamical system. It minimizes a quadratic cost function that balances tracking performance and control effort.</p> <h3 id="1-principles-of-lqr">1. Principles of LQR</h3> <ol> <li> <p><strong>System Dynamics</strong>: LQR is designed for systems described by linear differential equations:</p> \[\dot{x} = Ax + Bu \tag{1}\] <p>where \(x\) is the state vector, \(u\) is the control input, and \(A\) and \(B\) are matrices defining the system dynamics.</p> </li> <li> <p><strong>Cost Function</strong>: LQR aims to minimize:</p> \[J = \int_0^{\infty} (x^T Q x + u^T R u) \, dt\tag{2}\] <p>Here, \(Q\) and \(R\) are weighting matrices. \(Q\) should be positive semi-definite, and \(R\) positive definite, prioritizing state precision and control effort respectively.</p> <ul> <li> <strong>Matrix \(Q\)</strong> - State Cost Matrix: <ul> <li> <strong>Purpose</strong>: Weighs the state errors, penalizing deviations from desired states.</li> <li> <strong>Properties</strong>: Positive semi-definite to ensure non-negative cost for state errors.</li> <li> <strong>Effect</strong>: Higher values prioritize accuracy in corresponding state variables.</li> </ul> </li> </ul> <div style="height: 20px;"></div> <ul> <li> <strong>Matrix \(R\)</strong> - Control Effort Cost Matrix: <ul> <li> <strong>Purpose</strong>: Weighs the control effort, penalizing excessive use of control inputs.</li> <li> <strong>Properties</strong>: Positive definite to ensure all control efforts have a positive associated cost.</li> <li> <strong>Effect</strong>: Lower values can lead to more aggressive control actions; higher values promote conservatism.</li> </ul> </li> </ul> </li> <li> <p><strong>Optimal Control Law</strong>: The solution is a linear control law:</p> \[u = -Kx \tag{3}\] <p>where \(K\) is the gain matrix calculated using the Riccati equation.</p> </li> <li> <p><strong>The Riccati Equation</strong>: The Riccati equation is a differential equation crucial for determining the LQR gain matrix \(K\):</p> \[\dot{P} = A^T P + PA - PBR^{-1}B^T P + Q \tag{4}\] <p>In this equation, \(P\) is a matrix that solves the Riccati equation. Once \(P\) is determined, the optimal gain matrix \(K\) can be computed as:</p> \[K = R^{-1}B^T P \tag{5}\] <ul> <li> <strong>Matrix \(P\)</strong> - Solution to the Riccati Equation: <ul> <li> <strong>Purpose</strong>: Balances the trade-off between tracking performance and control effort in the cost function.</li> <li> <strong>Properties</strong>: Symmetric positive definite.</li> <li> <strong>Role</strong>: Directly influences the gain matrix \(K\), dictating the control action.</li> </ul> </li> </ul> <p>Solving the Riccati equation enables the calculation of the necessary feedback gains to minimize the cost function \(J\), effectively aligning the system’s behavior with the desired performance objectives while minimizing control effort. This makes LQR a powerful tool for achieving optimal control in linear systems.</p> </li> </ol> <h5 id="advantages-of-lqr">Advantages of LQR</h5> <ul> <li> <strong>Optimality</strong>: Provides optimal control for defined cost function and system dynamics.</li> <li> <strong>Robustness</strong>: Offers robustness to model uncertainties and disturbances within linear framework.</li> <li> <strong>Simplicity</strong>: Once \(K\) is computed, the linear control law is straightforward to implement.</li> </ul> <h5 id="limitations">Limitations</h5> <ul> <li> <strong>Model Dependence</strong>: Requires accurate linear model, limiting effectiveness for nonlinear systems.</li> <li> <strong>Tuning Complexity</strong>: Choosing appropriate \(Q\) and \(R\) matrices can be complex and requires domain knowledge.</li> </ul> <p>LQR is extensively applied in aerospace, automotive systems, and electronics, illustrating its versatility in controlling linear systems across domains.</p> <h3 id="2-linearization-of-the-system">2. Linearization of the System</h3> <p>The process to linearize the system (including Equation of Motion, Linearization, and State Space Representation) is explained in detail in <a href="/blog/2024/Controller-Design-Day-6/#Pendulum_Linearization"><code class="language-plaintext highlighter-rouge">Day 6</code></a>. The resulting state-space matrices are:</p> \[A = \begin{bmatrix} 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ 0 &amp; 22.89 &amp; 0 &amp; 0 \\ 0 &amp; 350.36 &amp; 0 &amp; 0 \end{bmatrix}, B = \begin{bmatrix} 0 \\ 0 \\ 82.30 \\ 881.83 \end{bmatrix}, C = \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \end{bmatrix}, D = 0\] <h3 id="3-implementing-lqr-in-matlab">3. Implementing LQR in MATLAB</h3> <p>Once the state-space model of your system is established, you can compute the LQR gain matrix using MATLAB:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">K_LQR</span> <span class="o">=</span> <span class="nf">lqr</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">R</span><span class="p">);</span>
</code></pre></div></div> <p>This command utilizes MATLAB’s built-in <code class="language-plaintext highlighter-rouge">lqr</code> function, which requires the system’s matrices \(A\) and \(B\) along with the weight matrices \(Q\) and \(R\). The function returns the optimal gain matrix <code class="language-plaintext highlighter-rouge">K_LQR</code>.</p> <h2 id="b-energy-shaping">B. Energy Shaping</h2> <p>While LQR control is effective around an equilibrium point, swinging up a pendulum requires handling larger deviations from equilibrium. For this, I use Energy Shaping, which begins with partial feedback linearization of the equation of motion.</p> <h3 id="1-partial-feedback-linearization">1. Partial Feedback Linearization</h3> <p>Starting from <a href="/blog/2024/Controller-Design-Day-6/#Equation4">Equation 4 in Day 6</a>, I drive:</p> \[\frac{1}{2}m_1l_1sin(\theta_1)\dot{\theta}_1^2 - \frac{1}{2}m_1l_1cos(\theta_1)\ddot{\theta}_1 + (m_0+m_1)\ddot{x} = F\] \[\frac{1}{3}l_1^2m_1\ddot{\theta}_1 - \frac{1}{2}m_1l_1cos(\theta_1)\ddot{x} - \frac{1}{2}gm_1l_1sin(\theta_1) = 0\] <p>Applying feedback control, I set:</p> \[F = \frac{1}{2}m_1l_1sin(\theta_1)\dot{\theta}_1^2 - \frac{1}{2}m_1l_1cos(\theta_1)\ddot{\theta}_1 + (m_0+m_1)\ddot{x}^d \tag{6}\] <p>This results in the decoupling of the system:</p> \[\ddot{x} = \ddot{x}^d\] \[\ddot{\theta}_1 = \frac{3}{2l_1}cos(\theta_1)\ddot{x}^d + \frac{3}{2l_1}gsin(\theta_1)\] <p>Letting \(u = \ddot{x}^d\), I simplify this to:</p> \[\ddot{x} = u \tag{7}\] \[\ddot{\theta}_1 = \frac{3}{2l_1}cos(\theta_1)u + \frac{3}{2l_1}gsin(\theta_1) \tag{8}\] <p>Equation 7 is straightforward, allowing me to focus on handling Equation 8.</p> <h3 id="2-energy-regulation-using-energy-shaping">2. Energy Regulation Using Energy Shaping</h3> <p>The energy of the pendulum is expressed as:</p> \[\begin{align*} E(\theta, \dot{\theta}) &amp;= \frac{1}{2}I\dot{\theta}^2 + \frac{1}{2}m_1gl_1cos(\theta) \\ &amp;= \frac{1}{6}m_1l_1^2\dot{\theta}^2 + \frac{1}{2}m_1gl_1cos(\theta) \tag{9} \end{align*}\] <p>At the equilibrium point (\(\theta_1 = 0, \dot{\theta}_1 = 0\)), the desired energy level is:</p> \[E^d = 0.0260\] <p>To stabilize the system, I compute the derivative of the energy error, \(\tilde{E}(\theta, \dot{\theta}) = E(\theta) - E^d\):</p> \[\begin{align*} \dot{\tilde{E}}(\theta, \dot{\theta}) &amp;= \frac{1}{3}m_1l_1^2\dot{\theta}\ddot{\theta} - \frac{1}{2}m_1gl_1\dot{\theta}sin(\theta) \\ &amp;= \frac{1}{3}m_1l_1^2\dot{\theta}\left(\frac{3}{2l_1}cos(\theta_1)u + \frac{3}{2l_1}gsin(\theta)\right) - \frac{1}{2}m_1gl_1\dot{\theta}sin(\theta) \\ &amp;=\frac{1}{2}m_1l_1\dot{\theta}cos(\theta)u \end{align*}\] <p>The control input is defined to stabilize the pendulum as:</p> \[u = -k\dot{\theta}cos(\theta)\tilde{E}(\theta, \dot{\theta}) , k &gt; 0 \tag{10}\] <p>This approach allows me to effectively swing up the pendulum using energy shaping, ensuring that the system is not only responsive but also stable under varying conditions.</p> <h1 id="ii-modeling">II. Modeling</h1> <h3 id="1-overall-system-inputoutput-plant">1. Overall System, Input/Output, Plant</h3> <p>The overall system, input/output, and plant blocks remain the same as in <a href="/blog/2024/Controller-Design-Day-6/#Modeling">Day 6</a>. For this and future posts, I will focus on updating only the Controller block.</p> <h3 id="2-controller-block">2. Controller Block</h3> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/01_Controller-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/01_Controller-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/01_Controller-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/01_Controller.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 1. Block Diagram of the Controller Components for LQR and Energy Shaping Control. </div> <p>The controller block has been updated to incorporate LQR and Energy Shaping control:</p> <ul> <li> <strong>Red box (Energy Shaping)</strong>: This component is responsible for the swing-up motion. Since Energy Shaping doesn’t account for the cart’s linear displacement, I’ve added a PID controller to manage the cart’s position.</li> <li> <strong>Blue box (LQR)</strong>: This component is similar to the one used for the pole placement method, but now utilizes the feedback gain determined by the LQR method.</li> </ul> <p>The controller switches between swing-up and stabilization control based on the pendulum’s angle:</p> <ul> <li>Swing-up control (Energy Shaping) is active when the pendulum angle is outside the range of ±30° from vertical.</li> <li>Stabilization control (LQR) takes over when the pendulum angle is within ±30° of vertical.</li> </ul> <p>The maximum control force is limited to 0.45 N to prevent excessive actuation.</p> <h3 id="3-energy-shaping-block">3. Energy Shaping Block</h3> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/02_Energy_Shaping-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/02_Energy_Shaping-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/02_Energy_Shaping-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/02_Energy_Shaping.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 2. Block Diagram of the Energy Shaping Component for Swing-Up Control. </div> <p>The Energy Shaping block implements the swing-up control strategy derived in Section I.B. It calculates the control input \(u\) based on the pendulum’s current state:</p> \[u = -k\dot{\theta}\cos(\theta)\tilde{E}(\theta, \dot{\theta})\] <p>Where:</p> <ul> <li>\(k\) is a positive gain constant</li> <li>\(\theta\) is the pendulum angle</li> <li>\(\dot{\theta}\) is the angular velocity of the pendulum</li> <li>\(\tilde{E}(\theta, \dot{\theta})\) is the energy error (difference between current and desired energy)</li> </ul> <p>This control law strategically injects or removes energy from the system to bring the pendulum to its upright position. The cosine term ensures that the control action smoothly transitions to zero as the pendulum approaches the vertical position, facilitating a seamless handover to the LQR controller for stabilization.</p> <h1 id="iii-simulation">III. Simulation</h1> <p>Tracking okay. Regulation 1N : Done by LQR 1.2N : Done by Bang-Bang + LAR (1 rotation) 1.3N : Done by Bang-Bang + LAR (3 rotation) 1.4 ~ 1.5N : Diverse, left way, due to LQR’s x1 correction 1.6N : Diverse, right way,</p> <h2 id="a-energy-convergence-and-controller-component-analysis">A. Energy Convergence and Controller Component Analysis</h2> <p>In this first simulation, I will demonstrate the effectiveness of the combined Energy Shaping and LQR control strategy for the inverted pendulum system. The simulation will focus on the full cycle of operation, from the pendulum’s initial position through swing-up and final stabilization in the upright position.</p> <p>Key aspects to be analyzed:</p> <ol> <li>Energy convergence during the swing-up phase</li> <li>Transition between Energy Shaping and LQR control</li> <li>Stabilization performance of the LQR controller</li> <li>Contribution of each controller component to the overall system behavior</li> </ol> <p>The simulation will start with the pendulum in different initial angles and run for 10 seconds to capture the complete motion. I will examine the system’s states and energy levels throughout this period to gain insights into the control strategy’s performance.</p> <p>By analyzing the energy convergence and the role of each controller component, I aim to demonstrate how this approach achieves efficient swing-up and precise stabilization of the inverted pendulum system.</p> <h3 id="0-uncontrolled-system-behavior">0. Uncontrolled System Behavior</h3> <p>Before applying any control strategies, it’s crucial to understand the natural behavior of the inverted pendulum system. In this section, I’ll examine how the cart-pendulum system behaves differently according to various initial states when there is no control input applied.</p> <p>To observe this, I disconnected all controllers from the input signal, effectively leaving the system uncontrolled. Figure 3 illustrates the phase portrait of the pendulum for different initial conditions.</p> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/03_Energy_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/03_Energy_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/03_Energy_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/03_Energy_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 3. Phase portrait of the uncontrolled pendulum system for various initial conditions, showing angle (θ) vs. angular velocity (θ̇). </div> <p>Key observations from this analysis:</p> <ol> <li> <p>Stable Limit Cycles: Some initial states result in stable limit cycles. These represent oscillations where the pendulum swings back and forth with consistent amplitude, neither gaining nor losing energy over time.</p> </li> <li> <p>High Energy States: Other initial states, particularly those with higher initial energy, exhibit different behavior. These trajectories may:</p> <ul> <li>Result in the pendulum completing full rotations</li> <li>Show larger amplitude oscillations</li> <li>Potentially lead to unstable or chaotic motion</li> </ul> </li> <li> <p>Energy Conservation: In the absence of friction or other dissipative forces, the total energy of the system should remain constant. This is reflected in the closed orbits in the phase portrait.</p> <ul> <li>However, due to the limitations of the ODE solver (DAESSC), my results appear slightly different from the ideal limit cycles shown in Figure 4.</li> </ul> </li> <li> <p>Sensitivity to Initial Conditions: The wide variety of trajectories demonstrates the system’s sensitivity to initial conditions, a characteristic of nonlinear systems.</p> </li> </ol> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/04_Energy_Ideal-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/04_Energy_Ideal-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/04_Energy_Ideal-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/04_Energy_Ideal.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 4. Ideal limit cycles in a phase portrait, demonstrating energy conservation. Adapted from Winter and Murray (1997). </div> <p>Reference: Winter, O., &amp; Murray, C. (1997). Resonance and chaos: I. First-order interior resonances. Astronomy and Astrophysics, 319, 290-304.</p> <h3 id="1-using-energy-shaping-controller-only">1. Using Energy Shaping Controller Only</h3> <p>In this section, I’ll isolate the Energy Shaping Controller to understand its behavior and effectiveness in swinging up the pendulum.</p> <h5 id="a-fixed-gain-k-varying-initial-condition-theta_0">a) Fixed Gain \(K\), Varying Initial Condition \(\theta_0\)</h5> <p>Here, I’ll keep the controller gain \(K\) constant and observe how the system responds to different initial angles of the pendulum. This allows me to analyze the effect of the initial condition \(\theta_0\).</p> <p>Figure 5 shows the simulations with different initial conditions when the gain is fixed at \(K = 10\). I tested initial angles \(\theta_0 = [\pm 5^{\circ}, \pm 30^{\circ}, \pm 60^{\circ}, \pm 90^{\circ}, \pm 120^{\circ}, \pm 150^{\circ}, \pm 170^{\circ} ]\). As observed, regardless of the starting position, all trajectories converge to a limit cycle. This demonstrates that if the system lacks sufficient energy, the controller provides energy to the system; conversely, if the system has excess energy, the controller removes energy from the system.</p> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/05_Energy_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/05_Energy_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/05_Energy_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/05_Energy_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 5. Phase portrait of pendulum angle vs. angular velocity for various initial conditions with fixed gain K = 10. </div> <h5 id="b-varying-gain-k-fixed-initial-condition-theta_0">b) Varying Gain \(K\), Fixed Initial Condition \(\theta_0\)</h5> <p>In this part, I fix the initial pendulum angle and vary the controller gain \(K\) to examine its effect on system performance.</p> <p>For this simulation, I set the initial angle to \(\theta_0 = 90^{\circ}\) and varied the gain using values \(K = [1, 5, 10, 20, 40, 80, 10^6]\). Figure 6 illustrates the results. As the gain \(K\) increases, the width of the limit cycle (range of angle) also increases. Interestingly, compared to the range of angle, the angular velocity is less affected by changes in gain.</p> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/06_Energy_3-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/06_Energy_3-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/06_Energy_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/06_Energy_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 6. Phase portrait of pendulum angle vs. angular velocity for various gain values K with fixed initial angle θ₀ = 90°. </div> <h3 id="2-using-energy-shaping-controller-with-pid-controller">2. Using Energy Shaping Controller with PID Controller</h3> <p>In this section, I combine the Energy Shaping Controller with a PID Controller to analyze their joint effect on the pendulum’s behavior. I fix the Energy Shaping gain at \(K = 10\) and the initial angle at \(\theta_0 = 90^\circ\), while varying the PID controller’s gains.</p> <p>For the PID controller, I set the ratio of gains as \(K_P : K_I : K_D = 100 : 1 : 10\). Figure 7 illustrates the results of this combined control strategy.</p> <div style="width: 80%; margin: 0 auto;"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/07_Energy_4-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/07_Energy_4-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/07_Energy_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/07_Energy_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 7. Phase portrait of pendulum angle vs. angular velocity for various PID gain values, with fixed Energy Shaping gain K = 10 and initial angle θ₀ = 90°. Vertical lines indicate the linearization region (±30°). </div> <p>Key observations from this analysis:</p> <ol> <li> <p>Higher PID gains generally reduce the range of pendulum angle, unless resonance occurs between the Energy Shaping and PID controllers.</p> </li> <li> <p>The chosen Energy Shaping gain \(K = 10\) proves to be too small for effective control. With this gain, the pendulum fails to consistently reach the linearization region (outside the vertical lines in Figure 7).</p> </li> <li> <p>Finding an optimal balance between the Energy Shaping and PID gains is crucial:</p> <ul> <li>Too small an Energy Shaping gain \(K\) cannot effectively swing up the pendulum.</li> <li>Too large an Energy Shaping gain \(K\) can overpower the PID controller, rendering it ineffective.</li> </ul> </li> </ol> <p>This analysis underscores the importance of carefully tuning both the Energy Shaping and PID controllers to achieve optimal performance in swinging up the pendulum and bringing it into the linearization region where LQR control can take over for final stabilization.</p> <h3 id="3-combined-all-together">3. Combined All Together</h3> <p>In previous sections, I determined the minimum conditions for Energy Shaping and PID gains by examining the phase portrait. The goal was to swing up the pendulum sufficiently to reach the linearization region (\(-30^{\circ} &lt; \theta &lt; 30^{\circ}\)). Now, I’ll iteratively tune the LQR controller. To simplify the process, I’ll set \(K = 20\), \(K_P = 2\), \(K_I = 0.02\), and \(K_D = 0.2\), allowing me to focus on matrices \(R\) and \(Q\).</p> <h5 id="a-varying-q-fixed-r">a) Varying Q, Fixed R</h5> <p>I’ll fix the control effort cost matrix \(R = 1\) to investigate the effect of the state cost matrix \(Q\). Video 1 and Figures 8 and 9 show that increasing \(Q_1\), which corresponds to the cart’s linear displacement, leads to faster \(x_1\) convergence. Similarly, increasing \(Q_2\) results in faster \(x_2\) convergence. The settling time seems to be most affected by \(x_1\). I tested four cases:</p> \[\left\{ \begin{array}{l} Q_1 = 1, Q_2 = 1 \\ Q_1 = 10, Q_2 = 1 \\ Q_1 = 1, Q_2 = 10 \\ Q_1 = 10, Q_2 = 10 \end{array} \right.\] <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/posts/2024-07-09-Controller-Design-Day-7/01_Tuning_1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" muted=""></video> </figure> </div> </div> <div class="caption"> Video 1. Comparison of system responses with varying Q values (Q₁ and Q₂) while R is fixed at 1. </div> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/08_LQR_1_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/08_LQR_1_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/08_LQR_1_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/08_LQR_1_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/09_LQR_1_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/09_LQR_1_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/09_LQR_1_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/09_LQR_1_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 8 - 9: System response with varying Q values </div> <p>I then tested higher \(Q\) values:</p> \[\left\{ \begin{array}{l} Q_1 = 100, Q_2 = 1 \\ Q_1 = 1000, Q_2 = 1 \\ Q_1 = 1, Q_2 = 100 \\ Q_1 = 1, Q_2 = 1000 \end{array} \right.\] <p>Video 2 and Figures 10 and 11 demonstrate that very high gains can lead to reduced performance or even system instability. This underscores the importance of iterative optimization through response inspection.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/posts/2024-07-09-Controller-Design-Day-7/02_Tuning_2.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" muted=""></video> </figure> </div> </div> <div class="caption"> Video 2. Comparison of system responses with varying high Q values (Q₁ and Q₂) while R is fixed at 1. </div> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/10_LQR_2_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/10_LQR_2_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/10_LQR_2_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/10_LQR_2_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/11_LQR_2_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/11_LQR_2_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/11_LQR_2_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/11_LQR_2_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 10 - 11: System response with higher Q values </div> <p>Through iterative optimization, I found that \(K = 20\), \(Q_1 = 50\), \(Q_2 = 5\) yielded the best performance, while \(K = 30\), \(Q_1 = 50\), \(Q_2 = 5\) produced the smoothest transient motion. Results are shown in Video 3 and Figures 12 - 13.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/posts/2024-07-09-Controller-Design-Day-7/03_Tuning_3.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" muted=""></video> </figure> </div> </div> <div class="caption"> Video 3. Optimized system performance after iterative Q matrix tuning </div> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/12_LQR_3_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/12_LQR_3_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/12_LQR_3_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/12_LQR_3_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/13_LQR_3_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/13_LQR_3_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/13_LQR_3_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/13_LQR_3_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 12 - 13: Optimized system response </div> <h5 id="b-fixed-q-varying-r">b) Fixed Q, Varying R</h5> <p>I tested \(R = [0.001, 1, 100, 1000]\) and observed that small \(R\) values lead to increased oscillation, while large \(R\) values result in slower settling times. Based on these observations, I decided to use \(R = 1\). Additionally, I set \(K = 20\), \(Q_1 = 50\), and \(Q_2 = 5\). This combination of parameters provided a good balance between performance and stability.</p> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/14_LQR_4_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/14_LQR_4_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/14_LQR_4_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/14_LQR_4_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/15_LQR_4_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/15_LQR_4_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/15_LQR_4_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/15_LQR_4_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 14 - 15: System response with varying R values </div> <h2 id="b-tracking">B. Tracking</h2> <p>After finalizing the controller tuning, I conducted tracking tests to evaluate the system’s performance. The results showed variable performance across different scenarios. In some cases, the controllers demonstrated excellent tracking capabilities, while in others, the system required more time to achieve the target state.</p> <p>This inconsistency in tracking performance can be attributed to my tuning process, which primarily focused on a single initial condition. While effective for that specific case, this approach didn’t account for the full range of possible starting states my system might encounter.</p> <p>To achieve more robust tracking performance, future work should focus on optimizing the controllers with various initial conditions. This approach would ensure that my system can handle a wide range of starting states, potentially leading to more consistent and reliable performance across different scenarios.</p> <p>Video 4 and Figures 16 - 17 illustrate the results of my tracking simulations:</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/posts/2024-07-09-Controller-Design-Day-7/04_Tracking.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" muted=""></video> </figure> </div> </div> <div class="caption"> Video 4. Demonstration of the cart-pendulum system's tracking performance under various conditions. </div> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/16_Tracking_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/16_Tracking_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/16_Tracking_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/16_Tracking_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/17_Tracking_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/17_Tracking_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/17_Tracking_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/17_Tracking_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 16 - 17: Graphical representation of the system's tracking performance, showing cart position and pendulum angle over time for different scenarios. </div> <h2 id="c-regulation">C. Regulation</h2> <p>Lastly, I simulated regulation with disturbances of varying magnitudes. The system demonstrated different behaviors depending on the disturbance size:</p> <ol> <li>For very small disturbances, the system easily regulated the position.</li> <li>With larger disturbances that pushed the pendulum beyond a certain region, the system required one full rotation to return to the upright position.</li> <li>In some cases, similar to the tracking scenarios, the controller failed to regulate the disturbance effectively.</li> <li>For extremely large disturbances, the system took considerable time to achieve regulation.</li> </ol> <p>These observations suggest that the controller’s performance is highly dependent on the magnitude of the disturbance, with a non-linear relationship between disturbance size and regulation time or effectiveness.</p> <p>The results of these simulations are presented in Video 5 and Figures 18 - 19.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/posts/2024-07-09-Controller-Design-Day-7/05_Regulation.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" muted=""></video> </figure> </div> </div> <div class="caption"> Video 5. Demonstration of the inverted pendulum system's regulation performance under various disturbance magnitudes. </div> <div style="width: 80%; margin: 0 auto;"> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/18_Regulation_1-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/18_Regulation_1-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/18_Regulation_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/18_Regulation_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2024-07-09-Controller-Design-Day-7/19_Regulation_2-480.webp 480w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/19_Regulation_2-800.webp 800w,/assets/img/posts/2024-07-09-Controller-Design-Day-7/19_Regulation_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/2024-07-09-Controller-Design-Day-7/19_Regulation_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </swiper-slide> </swiper-container> </div> <div class="caption"> Figures 18 - 19: Graphical representation of the system's regulation performance, showing cart position and pendulum angle over time for different disturbance magnitudes. </div> <h1 id="iv-moving-forward">IV. Moving Forward</h1> <h1 id="iv-moving-forward-1">IV. Moving Forward</h1> <p>In this study, I implemented a combined control strategy using Linear Quadratic Regulator (LQR) for stabilization and Energy Shaping for swing-up control of an inverted pendulum system. This approach demonstrated significant improvements over traditional control methods, offering a more robust solution for the full range of pendulum motion.</p> <p>Key findings from my simulations include:</p> <ol> <li> <p>The Energy Shaping controller effectively swings up the pendulum from various initial conditions, converging to a limit cycle that brings the pendulum near the upright position.</p> </li> <li> <p>LQR provides excellent stabilization once the pendulum is within the linearization region, offering a balance between state regulation and control effort.</p> </li> <li> <p>The combined approach successfully handles the transition between swing-up and stabilization phases, though some edge cases still present challenges.</p> </li> <li> <p>Tuning the controllers, particularly finding the right balance in the LQR cost matrices (Q and R), proved crucial for optimal performance.</p> </li> </ol> <p>However, my work also revealed areas for further improvement:</p> <ol> <li> <p>The current tuning process, focused on a single initial condition, led to inconsistent performance across different scenarios. Future work should explore multi-objective optimization to enhance robustness across various initial conditions and disturbances.</p> </li> <li> <p>The system’s response to large disturbances during regulation showed limitations, suggesting the need for adaptive control strategies that can handle a wider range of perturbations.</p> </li> <li> <p>The transition between Energy Shaping and LQR control could be further smoothed to prevent potential instabilities in edge cases.</p> </li> </ol> <p>These endeavors promise to push the boundaries of nonlinear control systems and bring me closer to robust, generalizable solutions for complex mechanical systems. Stay tuned for more updates as I delve deeper into the fascinating world of advanced control strategies! <br> <br> <br></p> <h5 id="you-can-find-the-simulink-model-on-my-github-repository">You can find the Simulink model on my <a href="https://github.com/geunee20/Controller_Design" rel="external nofollow noopener" target="_blank">GitHub repository</a>.</h5> \[\] </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Controller-Design-Day-6/">[Controller Design] Day 6: State Feedback Control - Pole Placement and Bang-Bang</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Controller-Design-Day-5/">[Controller Design] Day 5: PID Control with Computed Torque Method</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Controller-Design-Day-4/">[Controller Design] Day 4: PID Control with Gravity Compensation Method</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Controller-Design-Day-2/">[Controller Design] Day 2: PID Controller</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Controller-Design-Day-1/">[Controller Design] Day 1: Creating the Multibody System Using Simscape</a> </li> <div id="disqus_thread" style="max-width: 800px; margin: 0 auto;"> <script type="text/javascript">var disqus_shortname="mingeunpark",disqus_identifier="/blog/2024/Controller-Design-Day-7",disqus_title="[Controller Design] Day7: State Feedbak Control - LQR Controller and Energy Shaping";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 Min-Geun Park. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Last updated: July 26, 2024. </div> </footer> <script src="/assets/libs/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="/assets/libs/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="/assets/libs/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="/assets/libs/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="/assets/libs/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/libs/tex-mml-chtml.min.js"></script> <script defer src="/assets/libs/polyfill.min.js"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script defer src="/assets/libs/index.min.js"></script> <script defer src="/assets/libs/swiper-element-bundle.min.js" integrity="sha256-BPrwikijIybg9OQC5SYFFqhBjERYOn97tCureFgYH1E=" crossorigin="anonymous"></script> </body> </html>